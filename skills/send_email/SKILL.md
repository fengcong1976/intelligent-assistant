---
name: send_email
description: 发送邮件给指定联系人或邮箱地址
version: "1.0.0"
tags: ["email", "communication", "send"]
---

## Description

这个技能用于发送邮件给指定的收件人。支持发送给通讯录中的联系人或直接输入邮箱地址。可以发送纯文本邮件或带附件的邮件。

## When to use

- 用户说"发邮件给XXX"
- 用户说"发送文件到XXX邮箱"
- 用户说"给XXX发一封邮件"
- 用户提到"邮件"、"发送"、"邮箱"等关键词
- 用户需要发送PDF、文档等附件

## How to use

1. 首先识别收件人：
   - 如果用户提供的是人名，调用 contact_agent 查找联系人邮箱
   - 如果用户提供的是邮箱地址，直接使用
   
2. 确定邮件内容：
   - 如果用户指定了主题和内容，直接使用
   - 如果用户只说了意图，使用 LLM 生成合适的邮件内容
   
3. 处理附件：
   - 如果用户提到发送文件，查找文件路径
   - 支持发送 PDF、Word、图片等常见附件
   
4. 调用 email_agent 发送邮件

## Edge cases

- 收件人不在通讯录中时，询问用户邮箱地址
- 附件文件不存在时，告知用户并询问是否继续发送
- 邮件发送失败时，记录错误并告知用户
- 用户没有配置邮箱时，引导用户去设置页面配置
