---
name: calendar
description: 日历管理工具，支持创建、查询、修改、删除日程事件
version: 1.0.0
---

# 日历管理工具

## 功能说明
本工具用于管理个人日程安排，支持以下功能：
- 创建日程事件
- 查询日程（按日期、关键词搜索）
- 修改日程
- 删除日程
- 查看即将到来的日程
- 设置提醒
- 支持重复日程

## 参数说明

### add_event（添加日程）
- `title`: 事件标题
  - 类型：string
  - 示例："会议"、"面试"、"吃药"
  - 说明：必需参数

- `date`: 日期
  - 类型：string
  - 示例："2024-01-15"、"明天"、"下周一"
  - 说明：必需参数，支持自然语言日期

- `time`: 时间
  - 类型：string
  - 示例："14:00"、"下午2点"
  - 说明：可选参数

- `duration`: 持续时间
  - 类型：string
  - 示例："1小时"、"30分钟"
  - 说明：可选参数

- `location`: 地点
  - 类型：string
  - 示例："科技园"、"会议室A"
  - 说明：可选参数

- `description`: 详细描述
  - 类型：string
  - 示例："讨论项目进度"
  - 说明：可选参数

- `reminder`: 提醒时间
  - 类型：string
  - 示例："提前15分钟"、"提前1小时"
  - 说明：可选参数

- `repeat`: 重复规则
  - 类型：string
  - 示例："每天"、"每周"、"每月"
  - 说明：可选参数

### query_events（查询日程）
- `date`: 查询日期
  - 类型：string
  - 示例："今天"、"明天"、"2024-01-15"
  - 说明：可选参数，默认今天

- `start_date`: 开始日期
  - 类型：string
  - 示例："本周一"
  - 说明：可选参数

- `end_date`: 结束日期
  - 类型：string
  - 示例："本周日"
  - 说明：可选参数

- `keyword`: 关键词搜索
  - 类型：string
  - 示例："会议"
  - 说明：可选参数

### update_event（修改日程）
- `event_id`: 事件ID
  - 类型：string
  - 示例："123"
  - 说明：可选参数，用于精确匹配

- `title`: 原事件标题
  - 类型：string
  - 示例："会议"
  - 说明：可选参数，用于模糊匹配

- `new_title`: 新标题
  - 类型：string
  - 示例："项目会议"
  - 说明：可选参数

- `new_date`: 新日期
  - 类型：string
  - 示例："后天"
  - 说明：可选参数

- `new_time`: 新时间
  - 类型：string
  - 示例："15:00"
  - 说明：可选参数

- `new_location`: 新地点
  - 类型：string
  - 示例："会议室B"
  - 说明：可选参数

- `new_description`: 新描述
  - 类型：string
  - 示例："讨论新项目"
  - 说明：可选参数

### delete_event（删除日程）
- `event_id`: 事件ID
  - 类型：string
  - 示例："123"
  - 说明：可选参数，用于精确匹配

- `title`: 事件标题
  - 类型：string
  - 示例："会议"
  - 说明：可选参数，用于模糊匹配

- `date`: 日期
  - 类型：string
  - 示例："明天"
  - 说明：可选参数，用于缩小范围

### list_upcoming（查看即将到来的日程）
- `count`: 数量
  - 类型：integer
  - 示例：5
  - 说明：可选参数，默认5个

- `days`: 未来几天
  - 类型：integer
  - 示例：3
  - 说明：可选参数

## 使用场景

### 场景1：添加日程
```
用户："添加明天下午3点的会议"
调用：add_event(title="会议", date="明天", time="15:00")
```

### 场景2：查询日程
```
用户："今天有什么安排"
调用：query_events(date="今天")
```

### 场景3：修改日程
```
用户："把明天的会议改到后天"
调用：update_event(title="会议", new_date="后天")
```

### 场景4：删除日程
```
用户："删除明天的会议"
调用：delete_event(title="会议", date="明天")
```

### 场景5：设置重复提醒
```
用户："每天早上8点提醒我吃药"
调用：add_event(title="吃药", time="08:00", repeat="每天")
```

## 注意事项

### 1. 日期格式
- 支持自然语言日期："今天"、"明天"、"后天"、"下周一"
- 支持标准日期格式："2024-01-15"
- 日期格式不明确时会询问用户确认

### 2. 时间格式
- 支持24小时制："14:00"
- 支持自然语言："下午2点"
- 时间格式不明确时会询问用户确认

### 3. 重复日程
- 支持的重复规则："每天"、"每周"、"每月"
- 修改重复日程时会询问是修改单个还是全部

### 4. 提醒设置
- 支持的提醒时间："提前15分钟"、"提前1小时"、"提前1天"
- 提醒会在指定时间通过系统通知用户

### 5. 时间冲突
- 如果新日程与已有日程时间冲突，会提示用户
- 用户可以选择继续添加或修改时间

## 常见问题

### Q1：如何查看本周所有日程？
A：使用query_events，指定start_date和end_date：
```
query_events(start_date="本周一", end_date="本周日")
```

### Q2：如何修改重复日程的单个事件？
A：修改时会询问是修改单个还是全部，选择"单个"即可。

### Q3：日程数据存储在哪里？
A：所有日程数据存储在本地，保护用户隐私。

### Q4：可以导出日程吗？
A：当前版本不支持导出，后续版本会添加导出功能。

## 示例对话

### 示例1：添加日程
```
用户：添加明天下午3点的会议
系统：已添加日程：明天 15:00 会议
```

### 示例2：查询日程
```
用户：今天有什么安排
系统：今天有2个日程：
- 10:00 面试（地点：科技园）
- 15:00 会议
```

### 示例3：修改日程
```
用户：把下午的面试时间改到3点
系统：已修改日程：面试时间改为 15:00
```

## 相关工具
- `query_tools`: 查询可用工具
- `send_email`: 发送邮件（可以将日程发送给他人）
